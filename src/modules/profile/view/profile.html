<div ng-controller="profileController">

	<div class="profile-header">
		<h1>
			Profile <span ng-show="state === states.loading" class="loader"></span>
		</h1>
		<p>In the following section you can provide the system with your personal data</p>	
	</div>

	<hr>
	<div class="row profile-buttons">
		<div class="col-md-9">
			<div ng-show="state === states.loading" class="pull-right">
				Loading...
			</div>

			<div ng-show="state === states.submitting" class="pull-right">
				Submitting...
			</div>

			<div ng-show="state === states.error" class="pull-right error">
				Error!
			</div>

			<div ng-show="state === states.success" class="pull-right success">
				Success!
			</div>
		</div>

		<div class="md-col-3">
			<button ng-show="!editingEnabled" class="btn btn-small btn-black" ng-click="control.toggleEdit()">Edit</button>
			<button ng-show="editingEnabled" class="btn btn-small btn-black" ng-click="control.submit()">Submit</button>
			<button ng-show="editingEnabled" class="btn btn-small btn-grey" ng-click="control.cancel()">Cancel</button>
		</div>
	</div>

	<div class="profile-form ">

		<div class="row">
			<h2>Personal data:</h2>
		</div>

		<div class="row">
			<div class="col-md-4">
				<label>Pesel: </label>
				</div>
			<div class="col-md-8">
				<input type="text" ng-model="user.pesel" disabled>
			</div>
		</div>

		<div class="row">
			<div class="col-md-4">
				<label>Name: </label>
				</div>
			<div class="col-md-8">
				<input type="text" ng-model="user.name" ng-disabled="!editingEnabled">
				<span ng-show="user.name !== backupUser.name">*</span>
			</div>
		</div>

		<div class="row">
			<div class="col-md-4">
				<label>Surname: </label>
				</div>
			<div class="col-md-8">
				<input type="text" ng-model="user.surname" ng-disabled="!editingEnabled">
				<span ng-show="user.surname !== backupUser.surname">*</span>
			</div>
		</div>

		<div class="row">
			<h2>Address:</h2>
		</div>

		<div class="row">
			<div class="col-md-4">
				<label>Street: </label>
				</div>
			<div class="col-md-8">
				<input type="text" ng-model="user.address.street" ng-disabled="!editingEnabled">
				<span ng-show="user.address.street !== backupUser.address.street">*</span>
			</div>
		</div>

		<div class="row">
			<div class="col-md-4">
				<label>House number: </label>
				</div>
			<div class="col-md-8">
				<input type="text" ng-model="user.address.houseNumber" ng-disabled="!editingEnabled">
				<span ng-show="user.address.houseNumber !== backupUser.address.houseNumber">*</span>
			</div>
		</div>

		<div class="row">
			<div class="col-md-4">
				<label>Flat number: </label>
				</div>
			<div class="col-md-8">
				<input type="text" ng-model="user.address.flatNumber" ng-disabled="!editingEnabled">
				<span ng-show="user.address.flatNumber !== backupUser.address.flatNumber">*</span>
			</div>
		</div>

		<div class="row">
			<div class="col-md-4">
				<label>Postal code: </label>
				</div>
			<div class="col-md-8">
				<input type="text" ng-model="user.address.postalCode" ng-disabled="!editingEnabled">
				<span ng-show="user.address.postalCode !== backupUser.address.postalCode">*</span>
			</div>
		</div>

		<div class="row">
			<div class="col-md-4">
				<label>City: </label>
				</div>
			<div class="col-md-8">
				<input type="text" ng-model="user.address.city" ng-disabled="!editingEnabled">
				<span ng-show="user.address.city !== backupUser.address.city">*</span>
			</div>
		</div>

	</div>

</div>